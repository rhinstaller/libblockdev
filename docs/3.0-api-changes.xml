<chapter id="30-api-changes">
  <title>API changes in libblockdev 3.0</title>

  <para>
  This is a list of API changes in libblockdev 3.0 with suggested replacements.
  </para>

  <simplesect><title>LVM plugin</title>

  <para>
    <literal>bd_lvm_data_lv_name()</literal> has been removed, use <literal>data_lv</literal> from <link linkend="BDLVMLVdata">BDLVMLVdata</link> instead.
  </para>

  <para>
    <literal>bd_lvm_metadadata_lv_name()</literal> has been removed, use <literal>metadata_lv</literal> from <link linkend="BDLVMLVdata">BDLVMLVdata</link> instead.
  </para>

  </simplesect>

  <simplesect><title>VDO plugin</title>
  <para>
    VDO plugin has been removed.
  </para>

  </simplesect>

  <simplesect><title>Crypto plugin</title>

  <para>
    Crypto plugin API has been significantly changed. Most changes were introduced to simplify the API by removing various
    "redundant" functions that added new or optional parameters to the existing functions.
  </para>

  <para>
    `BD_CRYPTO_TECH_LUKS2` has been removed. We no longer distinguish between LUKS v1 and LUKS v2 support and libcryptsetup >= 2 is now required.
  </para>

  <para>
    <literal>bd_crypto_luks_format_luks2</literal>, <literal>bd_crypto_luks_format_luks2_blob</literal> and <litera>bd_crypto_luks_format</litera>
     have been removed, use <literal>bd_crypto_luks_format</literal> instead. This functions has been changed to match functionality of the
     removed <literal>_luks2</literal> and <literal>_blob</literal> functions.
  </para>

  <para>
    <literal>bd_crypto_luks_resize_luks2</literal> and <literal>bd_crypto_luks_resize_luks2_blob</literal> have been removed, use
    <literal>bd_crypto_luks_resize</literal> and <literal>bd_crypto_luks_resize_blob</literal> instead. These functions have been changed
    and now have new parameters to match functionality of the removed <literal>_luks2</literal> functions.
  </para>

  <para>
    <literal>bd_crypto_luks_open_blob</literal> has been removed, use <literal>bd_crypto_luks_open</literal> instead. This functions has
    been changed to match functionality of the removed <literal>_blob</literal> function.
  </para>

  </simplesect>
</chapter>
